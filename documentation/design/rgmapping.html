<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="RGMapping" />
<meta property="og:type" content="website" />
<meta property="og:url" content="documentation/design/rgmapping.html" />
<meta property="og:site_name" content="gart" />
<meta property="og:description" content="What is RGMapping?: GART facilitates seamless conversion between data models, enabling the transformation of data updates from relational databases into corresponding graph data constructs as per c..." />
<meta name="description" content="What is RGMapping?: GART facilitates seamless conversion between data models, enabling the transformation of data updates from relational databases into corresponding graph data constructs as per c..." />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Dynamic Graph Storage" href="graph-storage.html" /><link rel="prev" title="Architecture" href="architecture.html" />

    <!-- Generated with Sphinx 7.1.2 and Furo 2024.08.06 -->
        <title>RGMapping - GART</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css?v=2a6c4383" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css?v=45cf7dbc" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css?v=d290406d" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/brands.min.css?v=af964456" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/v4-shims.min.css?v=e329b598" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=11f00004" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/panels.css?v=0f22cee4" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/index.css?v=c31c8fd8" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
<script>
  document.body.dataset.theme = "light";
</script>

<script>
  function ready(callback) {
    if (document.readyState!='loading') {
      // in case the document is already rendered
      callback();
    } else if (document.addEventListener) {
      // modern browsers
      document.addEventListener('DOMContentLoaded', callback);
    } else document.attachEvent('onreadystatechange', function() {
      // IE <= 8
      if (document.readyState=='complete') {
        callback();
      }
    });
  }

  ready(function() {
    let coll = document.getElementsByClassName("admonition-details");
    for (let i = 0; i < coll.length; i++) {
      let titles = coll[i].getElementsByClassName("admonition-title");
      if (titles.length == 0) {
        continue;
      }
      titles[0].addEventListener("click", function () {
        this.parentElement.classList.toggle("active");

        if (this.parentElement.classList.contains("active")) {
          this.getElementsByClassName("admonition-caret")[0].innerText = " - (click to collapse)";
        } else {
          this.getElementsByClassName("admonition-caret")[0].innerText = " + (click to expand)";
        }
      });
      titles[0].appendChild(document.createElement("br"));
      let caret = document.createElement("span");
      caret.classList.add("admonition-caret");
      caret.innerText = " + (click to expand)";
      titles[0].appendChild(caret);
    }
  });
</script>


<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../docs.html"><div class="brand">GART</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../docs.html">
  
  
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/quick-start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/use-cases.html">Use Cases</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Design</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal">RGMapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="graph-storage.html">Dynamic Graph Storage</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Deployment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../deployment/env-setup.html">Environment Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment/deploy-distributed.html">Distributed Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment/deploy-k8s.html">Deployment on Kubernetes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/data-source-config.html">Data Source Configuration</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Data Source Configuration</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/data-source-config/postgresql.html">PostgreSQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/data-source-config/mysql.html">MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/data-source-config/storage.html">Usage of GART Storage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/log-capturer-config.html">Log Capturer Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/rgmapping-config.html">RGMapping Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/run-gap.html">Run Graph Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/pgx.html">PostgreSQL Extension</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/GraphScope/GART/blob/main/docs/documentation/design/rgmapping.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/GraphScope/GART/edit/main/docs/documentation/design/rgmapping.rst" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="rgmapping">
<span id="id1"></span><h1>RGMapping<a class="headerlink" href="#rgmapping" title="Permalink to this heading">¶</a></h1>
<section id="what-is-rgmapping">
<h2>What is RGMapping?<a class="headerlink" href="#what-is-rgmapping" title="Permalink to this heading">¶</a></h2>
<p>GART facilitates seamless conversion between data models, enabling the transformation of data updates from relational databases into corresponding graph data constructs as per customized model mapping rules, termed RGMapping. The versatility of GART lies in its provision for database administrators (DBAs) to articulate a variety of data model conversion principles.</p>
<p>The illustration below serves as an example of the RGMapping process within GART in a fraud detection example.
It delineates how users can establish mapping directives that link relational data constructs to their graph-based counterparts. GART processes these mapping instructions, methodically applying them to the relational data, subsequently ensuring the relational and graph data sets are in sync. Users are empowered to interrogate the graph data using graph-specific query languages, such as Cypher or Gremlin.</p>
<figure class="align-default" id="id4">
<a class="reference internal image-reference" href="../../_images/rgmapping.png"><img alt="An overview of RGMapping in GART." src="../../_images/rgmapping.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-text">An overview of RGMapping in GART.</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>On the left side, there’s a representation of a relational OLTP (Online Transaction Processing) database with a traditional relational model. This indicates that data, likely involving participant IDs and the method of transaction, is being added to a table named <code class="docutils literal notranslate"><span class="pre">TRANSACTION</span></code>.</p>
<p>The middle section shows the definition of transformation rules (RGMapping) through an example in Python code. Functions named <code class="docutils literal notranslate"><span class="pre">def_vertex</span></code> and <code class="docutils literal notranslate"><span class="pre">add_edge</span></code> are defined, which are used to convert relational model data—related to persons (<code class="docutils literal notranslate"><span class="pre">Person</span></code>) and transactions (<code class="docutils literal notranslate"><span class="pre">Trans</span></code>)—into vertices and edges in a graph model. <code class="docutils literal notranslate"><span class="pre">P_ID1</span></code> and <code class="docutils literal notranslate"><span class="pre">P_ID2</span></code> represent individual IDs, and HOW represents the transaction mode, and these are used to create corresponding elements in the graph.</p>
<p>On the right side is a graph-based OLAP (Online Analytical Processing) model, where data is presented in graph form. There is a routine named <code class="docutils literal notranslate"><span class="pre">FRAUD_DETECTION</span></code>, which performs queries on the graph such as using the <code class="docutils literal notranslate"><span class="pre">findCycle</span></code> function to identify potential cycles within transactions (<code class="docutils literal notranslate"><span class="pre">Trans</span></code>). Identifying such cycles could be useful for detecting fraudulent activities.</p>
<p>Overall, the image illustrates a process where relational data is transformed into graph data through mapping rules (RGMapping), allowing database administrators (DBAs) to define rules for such conversions and enabling advanced analytic operations like fraud detection using a graph database.</p>
</div>
</section>
<section id="interface-of-rgmapping">
<h2>Interface of RGMapping<a class="headerlink" href="#interface-of-rgmapping" title="Permalink to this heading">¶</a></h2>
<p>In the fraud detection example, the user can define rules for RGMapping as described below. This model transformation rule includes the user’s definition of the graph structure and how the information in the relational data is mapped to the vertices, edges, and attributes in the graph.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>See <a class="reference external" href="../tutorials/rgmapping-config.html">this section</a> for a specific semantic explanation.</p>
</div>
<section id="sql-pgq">
<h3>SQL/PGQ<a class="headerlink" href="#sql-pgq" title="Permalink to this heading">¶</a></h3>
<div class="highlight-postgresql notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">CREATE</span><span class="w"> </span><span class="n">PROPERTY</span><span class="w"> </span><span class="n">GRAPH</span><span class="w"> </span><span class="n">ldbc</span>
<span class="linenos"> 2</span><span class="n">VERTEX</span><span class="w"> </span><span class="k">TABLES</span><span class="w"> </span><span class="p">(</span>
<span class="linenos"> 3</span><span class="w">    </span><span class="s s-Name">&quot;PERSON&quot;</span>
<span class="linenos"> 4</span><span class="w">    </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="s s-Name">&quot;p_id&quot;</span><span class="w"> </span><span class="p">)</span>
<span class="linenos"> 5</span><span class="w">    </span><span class="k">LABEL</span><span class="w"> </span><span class="s s-Name">&quot;person&quot;</span><span class="w"> </span><span class="n">PROPERTIES</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">p_id</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s s-Name">&quot;p_id&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s s-Name">&quot;p_name&quot;</span><span class="w"> </span><span class="p">)</span>
<span class="linenos"> 6</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="n">EDGE</span><span class="w"> </span><span class="k">TABLES</span><span class="w"> </span><span class="p">(</span>
<span class="linenos"> 8</span><span class="w">    </span><span class="s s-Name">&quot;TRANSFER&quot;</span>
<span class="linenos"> 9</span><span class="w">    </span><span class="n">SOURCE</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="s s-Name">&quot;P_ID1&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="s s-Name">&quot;PERSON&quot;</span>
<span class="linenos">10</span><span class="w">    </span><span class="n">DESTINATION</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="s s-Name">&quot;P_ID2&quot;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="s s-Name">&quot;PERSON&quot;</span>
<span class="linenos">11</span><span class="w">    </span><span class="k">LABEL</span><span class="w"> </span><span class="s s-Name">&quot;transfer&quot;</span><span class="w"> </span><span class="n">PROPERTIES</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">t_data</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s s-Name">&quot;t_date&quot;</span><span class="w"> </span><span class="p">)</span>
<span class="linenos">12</span><span class="p">)</span>
</pre></div>
</div>
<p>The RGMapping rule can be written in <a class="reference external" href="https://pgql-lang.org/">SQL/PGQ</a>. It creates a graph named <code class="docutils literal notranslate"><span class="pre">ldbc</span></code>, which contains a type of vertices <code class="docutils literal notranslate"><span class="pre">PERSON</span></code> and a type of edges <code class="docutils literal notranslate"><span class="pre">TRANSFER</span></code> (it ignores the label name which is the same as the table name). It shows the correspondence between the vertices, edges and their properties in the graph and the columns in the table.</p>
</section>
<section id="yaml">
<h3>YAML<a class="headerlink" href="#yaml" title="Permalink to this heading">¶</a></h3>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kt">!!gart.pgql.GSchema</span>
<span class="linenos"> 2</span><span class="nt">graph</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ldbc</span>
<span class="linenos"> 3</span><span class="nt">database</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ldbc</span>
<span class="linenos"> 4</span><span class="nt">enableRowStore</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="linenos"> 5</span><span class="nt">vertexMappings</span><span class="p">:</span>
<span class="linenos"> 6</span><span class="w">    </span><span class="nt">vertex_types</span><span class="p">:</span>
<span class="linenos"> 7</span><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">person</span>
<span class="linenos"> 8</span><span class="w">          </span><span class="nt">dataSourceName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PERSON</span>
<span class="linenos"> 9</span><span class="w">          </span><span class="nt">idFieldName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">p_id</span>
<span class="linenos">10</span><span class="w">          </span><span class="nt">mappings</span><span class="p">:</span>
<span class="linenos">11</span><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">p_id</span>
<span class="linenos">12</span><span class="w">              </span><span class="nt">dataField</span><span class="p">:</span>
<span class="linenos">13</span><span class="w">                  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P_ID</span>
<span class="linenos">14</span><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">p_name</span>
<span class="linenos">15</span><span class="w">              </span><span class="nt">dataField</span><span class="p">:</span>
<span class="linenos">16</span><span class="w">                  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NAME</span>
<span class="linenos">17</span><span class="nt">edgeMappings</span><span class="p">:</span>
<span class="linenos">18</span><span class="w">    </span><span class="nt">edge_types</span><span class="p">:</span>
<span class="linenos">19</span><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type_pair</span><span class="p">:</span>
<span class="linenos">20</span><span class="w">            </span><span class="nt">edge</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">transfer</span>
<span class="linenos">21</span><span class="w">            </span><span class="nt">source_vertex</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">person</span>
<span class="linenos">22</span><span class="w">            </span><span class="nt">destination_vertex</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">person</span>
<span class="linenos">23</span><span class="w">          </span><span class="nt">dataSourceName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TRANSFER</span>
<span class="linenos">24</span><span class="w">          </span><span class="nt">sourceVertexMappings</span><span class="p">:</span>
<span class="linenos">25</span><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">dataField</span><span class="p">:</span>
<span class="linenos">26</span><span class="w">                  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P_ID1</span>
<span class="linenos">27</span><span class="w">          </span><span class="nt">destinationVertexMappings</span><span class="p">:</span>
<span class="linenos">28</span><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">dataField</span><span class="p">:</span>
<span class="linenos">29</span><span class="w">                  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P_ID2</span>
<span class="linenos">30</span><span class="w">          </span><span class="nt">dataFieldMappings</span><span class="p">:</span>
<span class="linenos">31</span><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">t_date</span>
<span class="linenos">32</span><span class="w">              </span><span class="nt">dataField</span><span class="p">:</span>
<span class="linenos">33</span><span class="w">                  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">T_DATA</span>
</pre></div>
</div>
<p>The RGMapping rule can also be written in <a class="reference external" href="https://yaml.org/">YAML</a>. It defines the graph schema for the graph named <code class="docutils literal notranslate"><span class="pre">ldbc</span></code>. It specifies the mapping between the vertices, edges and their properties in the graph and the columns in the table.
The examples we give are equivalent conversion conditions to those described above for SQL/PGQ.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
<div class="related-pages">
  <a class="next-page" href="graph-storage.html">
    <div class="page-info">
      <div class="context">
        <span>Next</span>
      </div>
      <div class="title">Dynamic Graph Storage</div>
    </div>
    <svg class="furo-related-icon">
      <use href="#svg-arrow-right"></use>
    </svg>
  </a>
  <a class="prev-page" href="architecture.html">
    <svg class="furo-related-icon">
      <use href="#svg-arrow-right"></use>
    </svg>
    <div class="page-info">
      <div class="context">
        <span>Previous</span>
      </div>
      
      <div class="title">Architecture</div>
      
    </div>
  </a>
</div>

<!-- index page doesn't have prev -->
<hr />

<script src="https://giscus.app/client.js" data-repo="GraphScope/GART" data-repo-id="MDEwOlJlcG9zaXRvcnkzMDY2MzEyMTE="
  data-category="General" data-category-id="MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMyNDA3MTg2" data-mapping="pathname"
  data-strict="1" data-reactions-enabled="0" data-emit-metadata="0" data-input-position="bottom" data-theme="light"
  data-lang="en" data-loading="lazy" crossorigin="anonymous" async>
  </script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6CYXWKLJB8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'G-6CYXWKLJB8');
</script>

<div class="bottom-of-page">
  <div class="left-details">
    <div class="copyright">
      Copyright &#169; 2022-2024, The GART Authors
    </div>
    Rendered with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a
      href="https://github.com/pradyunsg/furo">Furo</a>
    <p>The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux
      Foundation,
      please see our <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage page</a>.
    </p>
  </div>
  <div class="right-details">
    <div class="icons"><a class="muted-link" href="https://github.com//" aria-label="On GitHub">
        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
  </div>
</div>

      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal">RGMapping</a><ul>
<li><a class="reference internal" href="#what-is-rgmapping">What is RGMapping?</a></li>
<li><a class="reference internal" href="#interface-of-rgmapping">Interface of RGMapping</a><ul>
<li><a class="reference internal" href="#sql-pgq">SQL/PGQ</a></li>
<li><a class="reference internal" href="#yaml">YAML</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=ccbe24c1"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=c7037924"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    </body>
</html>